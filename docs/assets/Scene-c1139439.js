import{u as l,r as s,a as m,j as n,b as t,c as g,C as M,F as b,O as p,P as y}from"./index-71873679.js";const S=({colors:r,number:o,size:e})=>{const a=[e,e,e],[c,{at:h}]=l(()=>({args:a,mass:1,position:[Math.random()-.5,Math.random()*2,Math.random()-.5]}),s.useRef(null));return m(()=>h(Math.floor(Math.random()*o)).position.set(0,Math.random()*2,0)),n("instancedMesh",{receiveShadow:!0,castShadow:!0,ref:c,args:[void 0,void 0,o],children:[t("boxGeometry",{args:a,children:t("instancedBufferAttribute",{attach:"attributes-color",args:[r,3]})}),t("meshStandardMaterial",{vertexColors:!0,roughness:1})]})},f=({geomProps:r,onClick:o})=>{const[e]=l(()=>({...r}),s.useRef(null));return n("mesh",{ref:e,receiveShadow:!0,onClick:o,children:[t("boxGeometry",{...r}),t("meshStandardMaterial",{color:"white"})]})},x=({colors:r,number:o,size:e})=>{const[a]=g(()=>({args:[e],mass:1,position:[Math.random()-.5,Math.random()*2,Math.random()-.5]}),s.useRef(null));return n("instancedMesh",{receiveShadow:!0,castShadow:!0,ref:a,args:[void 0,void 0,o],children:[t("sphereGeometry",{args:[e,48],children:t("instancedBufferAttribute",{attach:"attributes-color",args:[r,3]})}),t("meshStandardMaterial",{color:"red",roughness:0})]})},v=["hotpink","orange","royalblue"],w={box:S,sphere:x},C=()=>{const[r,o]=s.useState("box"),e=200,a=.1,c=s.useMemo(()=>{const i=new Float32Array(e*3),u=new M;for(let d=0;d<e;d++)u.set(v[Math.floor(Math.random()*5)]).convertSRGBToLinear().toArray(i,d*3);return i},[e]),h=w[r];return n(b,{children:[t("color",{attach:"background",args:["#171717"]}),t(p,{}),t("ambientLight",{intensity:.4}),t("directionalLight",{position:[-8,2,4],intensity:1,castShadow:!0}),t("directionalLight",{position:[8,2,8],intensity:1,castShadow:!0}),n(y,{broadphase:"SAP",gravity:[0,-9.8,0],children:[t(f,{geomProps:{args:[2,.01,2],position:[0,-.3,0],rotation:[0,0,0]},onClick:()=>o(i=>i==="box"?"sphere":"box")}),t(h,{colors:c,number:e,size:a})]})]})};export{C as default};
